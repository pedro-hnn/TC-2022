<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="UTF-8">
    <title>Lista de Cursos da Plataforma</title>
</head>
<body>

<br>
<hr>
<br>
NAVBAR \/
<br>
<div sec:authorize="hasAuthority('Administrador')">
    <div class="navbar-admin">
        <a th:href="@{/admin/cursos}" >Lista de Cursos</a>
        <a th:href="@{/admin/aulas}" >Lista de Aulas</a>
        <a th:href="@{/admin/users}" >Lista de Usuários</a>

        <a th:href="@{/perfil/}">[[${#request.userPrincipal.principal.username}]]</a>

        <form th:action="@{/logout}" method="post"><input type="submit" value="Sair da Plataforma" /></form>
    </div>
</div>
<br>
NAVBAR /\
<br>
<hr>
<br>

<div th:if="${param.save}">
    Curso salvo com sucesso!
</div>
<div th:if="${param.delete}">
    Curso deletado com sucesso!
</div>
<div th:if="${param.saveerror}">
    Houve algum problema, não foi possível salvar Curso!
</div>
<div th:if="${param.deleteerror}">
    Houve algum problema, não foi possível deletar Curso!
</div>


<a th:href="@{/admin/novo-curso}">Adicionar novo curso</a>
<br>
<br>
<br>
<hr>
<br>
<br>
<br>

<div th:each="curso : ${listaCursos}">
    <hr>
    <br>
    <br>
    <br>
    <div>
        <div>
            <a th:href="@{'/cursos/' + ${curso.id}}" >página do curso</a>
            <a th:href="@{'/admin/editar-curso/' + ${curso.id}}" >editar curso</a>
            <a th:href="@{'/admin/deletar-curso/' + ${curso.id}}" onclick="return confirm('Tem certeza que deseja deletar esse Curso?')" >deletar curso</a>
        </div>
        <img th:src="@{${curso.path_capa}}" width="200">
        <h5 th:text="${curso.titulo}" >Título</h5>
        <p th:text="${curso.descricao}" >Descrição</p>
    </div>
    <br>
    <br>
    <br>
</div>


</body>
</html>